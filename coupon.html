<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Offer | The Shadowed Inn</title>
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"></noscript>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Cinzel+Decorative:wght@400;700&family=Eagle+Lake&display=swap" rel="stylesheet">
    <style>
        :root {
            --deep-shadow: #0a0a0a;
            --blood-red: #5c0000;
            --tarnished-silver: #c0c0c0;
            --ancient-parchment: #e8d8b0;
            --eldritch-green: #003300;
            --forbidden-purple: #330033;
            --cursed-gold: #aa8800;
            --foggy-gray: #333333;
            --rust: #8b3100;
            --moonlight: #e0e0e0;
            --starry-blue: #001a33;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'MedievalSharp', cursive;
            color: var(--tarnished-silver);
            background-color: var(--deep-shadow);
            overflow-x: hidden;
            line-height: 1.7;
            background-image: url('https://www.transparenttextures.com/patterns/asfalt-dark.png');
            position: relative;
        }
        
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.9) 100%);
            pointer-events: none;
            z-index: -1;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Cinzel Decorative', serif;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--cursed-gold);
            text-shadow: 0 0 5px rgba(170, 136, 0, 0.5);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 30px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .coupon-header {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }

        .coupon-header h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(170, 136, 0, 0.7);
            position: relative;
            display: inline-block;
        }

        .coupon-header h1::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--cursed-gold), transparent);
        }

        .coupon-header p {
            font-size: 1.3rem;
            max-width: 700px;
            margin: 20px auto 0;
            color: var(--tarnished-silver);
            font-style: italic;
            position: relative;
        }

        .coupon-header p::before,
        .coupon-header p::after {
            content: '"';
            color: var(--rust);
            font-size: 1.5em;
        }

        .magic-cards {
            display: flex;
            justify-content: center;
            gap: 50px;
            width: 100%;
            margin-bottom: 60px;
            flex-wrap: wrap;
        }

        .magic-card {
            position: relative;
            width: 300px;
            height: 450px;
            perspective: 1000px;
            cursor: pointer;
            border-radius: 5px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }

        .magic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(170, 136, 0, 0.3);
        }

        .magic-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0,0,0,0.7) 0%, transparent 100%);
            z-index: 1;
        }

        .magic-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .magic-card:hover .magic-card-inner {
            transform: rotateY(180deg);
        }

        .magic-card-front, 
        .magic-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
            border: 1px solid var(--rust);
        }

        .magic-card-front {
            background: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(70,0,0,0.7));
            z-index: 2;
        }

        .magic-card-front h2 {
            font-size: 2.5rem;
            text-align: center;
            padding: 20px;
            position: relative;
            z-index: 3;
        }

        .magic-card-back {
            background: linear-gradient(135deg, var(--deep-shadow), var(--foggy-gray));
            transform: rotateY(180deg);
            padding: 20px;
            display: none;
            position: relative;
        }

        .magic-card-back::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://www.transparenttextures.com/patterns/black-paper.png');
            opacity: 0.7;
            z-index: 1;
        }

        .magic-card-back.active {
            display: flex;
        }

        .coupon-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 5px;
            transition: all 0.5s ease;
            position: relative;
            z-index: 2;
            border: 1px solid var(--rust);
        }

        .coupon-image.zoomed {
            transform: scale(1.2);
            box-shadow: 0 0 30px rgba(170, 136, 0, 0.5);
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: none;
            border: none;
            color: var(--cursed-gold);
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            color: var(--blood-red);
            transform: scale(1.2);
        }

        .instructions {
            text-align: center;
            margin-top: 40px;
            font-size: 1.2rem;
            color: var(--tarnished-silver);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            padding: 20px;
            border-top: 1px dashed var(--rust);
            border-bottom: 1px dashed var(--rust);
            display: none;
        }

        .instructions::before {
            content: "âœ§";
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--blood-red);
            font-size: 2rem;
            background: var(--deep-shadow);
            padding: 0 20px;
        }

        .home-btn {
            display: inline-block;
            margin-top: 40px;
            padding: 15px 40px;
            background-color: transparent;
            color: var(--cursed-gold);
            text-decoration: none;
            border-radius: 2px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid var(--rust);
            font-size: 1.1rem;
            text-align: center;
            letter-spacing: 1px;
            font-family: 'MedievalSharp', cursive;
            cursor: pointer;
            text-transform: uppercase;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }

        .home-btn:hover {
            background-color: rgba(170, 136, 0, 0.1);
            color: var(--blood-red);
            border-color: var(--blood-red);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(170, 0, 0, 0.3);
        }

        .home-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(170, 136, 0, 0.1), transparent);
            transition: all 0.5s;
        }

        .home-btn:hover::before {
            left: 100%;
        }

        /* Card Themes */
        .the-star {
            background: linear-gradient(135deg, var(--starry-blue), var(--deep-shadow));
            background-image: url('https://www.transparenttextures.com/patterns/stardust.png');
        }

        .the-moon {
            background: linear-gradient(135deg, var(--moonlight), var(--foggy-gray));
            background-image: url('https://www.transparenttextures.com/patterns/mooning.png');
            color: #333;
        }

        .the-moon h2 {
            color: #333;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        /* Floating particles */
        .particle {
            position: absolute;
            background-color: rgba(170, 136, 0, 0.5);
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
        }

        /* Glowing eyes effect */
        .eyes {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .eye {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: var(--blood-red);
            border-radius: 50%;
            box-shadow: 0 0 10px 2px var(--blood-red);
            opacity: 0;
            transition: opacity 0.5s;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .coupon-header h1 {
                font-size: 3rem;
            }
            
            .coupon-header p {
                font-size: 1.1rem;
            }
        }
        
        @media (max-width: 768px) {
            .magic-cards {
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }
            
            .coupon-header h1 {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 576px) {
            .magic-card {
                width: 280px;
                height: 420px;
            }
            
            .coupon-header h1 {
                font-size: 2rem;
            }
            
            .coupon-header p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="coupon-header">
            <h1>Choose Your Fate...</h1>
            <p>One selection only... choose wisely... or don't... it matters not to us...</p>
        </div>

        <div class="magic-cards" id="magic-cards">
            <!-- The Star Card -->
            <div class="magic-card the-star" data-coupon="Coupon1.png">
                <div class="magic-card-inner">
                    <div class="magic-card-front">
                        <h2>THE STAR</h2>
                    </div>
                    <div class="magic-card-back">
                        <img src="Coupon2.png" alt="The Star Coupon" class="coupon-image">
                        <button class="back-btn"><i class="fas fa-arrow-left"></i></button>
                    </div>
                </div>
            </div>
            
            <!-- The Moon Card -->
            <div class="magic-card the-moon" data-coupon="moon-coupon.png">
                <div class="magic-card-inner">
                    <div class="magic-card-front">
                        <h2>THE MOON</h2>
                    </div>
                    <div class="magic-card-back">
                        <img src="Coupon3.png" alt="The Moon Coupon" class="coupon-image">
                        <button class="back-btn"><i class="fas fa-arrow-left"></i></button>
                    </div>
                </div>
            </div>
        </div>

        <div class="instructions" id="instructions">
            <p>Take this knowledge with you... but beware... nothing comes without a price... show this to the keeper when the moon is high...</p>
            <a href="index.html" class="home-btn">Escape While You Can</a>
        </div>
    </div>

    <div class="eyes" id="eyes"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const magicCards = document.querySelectorAll('.magic-card');
            const instructions = document.getElementById('instructions');
            const eyesContainer = document.getElementById('eyes');
            let selectedCard = null;
            
            // Create floating particles
            function createParticles() {
                const particleCount = 30;
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.classList.add('particle');
                    
                    const size = Math.random() * 5 + 1;
                    const posX = Math.random() * window.innerWidth;
                    const posY = Math.random() * window.innerHeight;
                    const delay = Math.random() * 5;
                    const duration = Math.random() * 10 + 10;
                    
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    particle.style.left = `${posX}px`;
                    particle.style.top = `${posY}px`;
                    particle.style.animationDelay = `${delay}s`;
                    particle.style.animationDuration = `${duration}s`;
                    
                    document.body.appendChild(particle);
                    
                    // Animate particles
                    setInterval(() => {
                        particle.style.left = `${Math.random() * window.innerWidth}px`;
                        particle.style.top = `${Math.random() * window.innerHeight}px`;
                    }, duration * 1000);
                }
            }
            
            // Create glowing eyes that follow cursor
            function createEyes() {
                const eyeCount = 8;
                for (let i = 0; i < eyeCount; i++) {
                    const eye = document.createElement('div');
                    eye.classList.add('eye');
                    eye.id = `eye-${i}`;
                    eyesContainer.appendChild(eye);
                    
                    // Position eyes around the edges of the screen
                    if (i < 2) { // Top
                        eye.style.top = '20px';
                        eye.style.left = `${20 + (i * (window.innerWidth - 40))}px`;
                    } else if (i < 4) { // Right
                        eye.style.right = '20px';
                        eye.style.top = `${20 + ((i-2) * (window.innerHeight - 40))}px`;
                    } else if (i < 6) { // Bottom
                        eye.style.bottom = '20px';
                        eye.style.left = `${20 + ((i-4) * (window.innerWidth - 40))}px`;
                    } else { // Left
                        eye.style.left = '20px';
                        eye.style.top = `${20 + ((i-6) * (window.innerHeight - 40))}px`;
                    }
                }
            }
            
            // Make eyes follow cursor
            function followCursor(e) {
                const eyes = document.querySelectorAll('.eye');
                eyes.forEach(eye => {
                    const eyeRect = eye.getBoundingClientRect();
                    const eyeX = eyeRect.left + eyeRect.width / 2;
                    const eyeY = eyeRect.top + eyeRect.height / 2;
                    const angle = Math.atan2(e.clientY - eyeY, e.clientX - eyeX);
                    const distance = Math.min(
                        Math.sqrt(Math.pow(e.clientX - eyeX, 2) + Math.pow(e.clientY - eyeY, 2)) / 50, 
                        3
                    );
                    
                    eye.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
                });
            }
            
            // Randomly blink eyes
            function blinkEyes() {
                const eyes = document.querySelectorAll('.eye');
                const randomEye = eyes[Math.floor(Math.random() * eyes.length)];
                
                // Blink
                randomEye.style.opacity = '1';
                setTimeout(() => {
                    randomEye.style.opacity = '0';
                }, 200);
                
                // Schedule next blink
                setTimeout(blinkEyes, Math.random() * 3000 + 1000);
            }
            
            // Initialize effects
            createParticles();
            createEyes();
            document.addEventListener('mousemove', followCursor);
            setTimeout(blinkEyes, 1000);
            
            // Hide instructions initially
            instructions.style.display = 'none';
            
            // Card selection logic
            magicCards.forEach(card => {
                card.addEventListener('click', function() {
                    if (selectedCard) return;
                    
                    selectedCard = this;
                    const back = this.querySelector('.magic-card-back');
                    back.classList.add('active');
                    
                    // Play creepy sound
                    const sounds = ['creak', 'whisper', 'howl'];
                    const sound = new Audio(`https://assets.mixkit.co/sfx/preview/${sounds[Math.floor(Math.random() * sounds.length)]}.mp3`);
                    sound.volume = 0.3;
                    sound.play().catch(e => console.log('Audio play failed:', e));
                    
                    setTimeout(() => {
                        const couponImage = back.querySelector('.coupon-image');
                        couponImage.classList.add('zoomed');
                        
                        setTimeout(() => {
                            instructions.style.display = 'block';
                            window.scrollTo({
                                top: document.body.scrollHeight,
                                behavior: 'smooth'
                            });
                            
                            // Make all eyes glow red briefly
                            const eyes = document.querySelectorAll('.eye');
                            eyes.forEach(eye => {
                                eye.style.opacity = '1';
                                eye.style.backgroundColor = 'var(--blood-red)';
                                setTimeout(() => {
                                    eye.style.opacity = '0';
                                    setTimeout(() => {
                                        eye.style.backgroundColor = 'var(--blood-red)';
                                    }, 1000);
                                }, 1000);
                            });
                        }, 1000);
                    }, 500);
                });
            });
            
            // Back button functionality
            document.querySelectorAll('.back-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    const cardInner = this.closest('.magic-card-inner');
                    cardInner.style.transform = 'rotateY(0deg)';
                    
                    const couponImage = this.parentElement.querySelector('.coupon-image');
                    couponImage.classList.remove('zoomed');
                    
                    setTimeout(() => {
                        this.parentElement.classList.remove('active');
                        selectedCard = null;
                        instructions.style.display = 'none';
                    }, 800);
                });
            });
            
            // Prevent multiple selections
            document.addEventListener('click', function(e) {
                if (selectedCard && !e.target.closest('.magic-card')) {
                    return;
                }
            }, true);
            
            // Random whispers effect
            function whisper() {
                const whispers = [
                    "Choose... choose...",
                    "We're watching...",
                    "The price must be paid...",
                    "Nothing is free...",
                    "Take it... if you dare...",
                    "The shadows hunger...",
                    "Your selection... intrigues us...",
                    "The deal is struck...",
                    "Beware what you wish for...",
                    "The night is long..."
                ];
                
                const whisperText = whispers[Math.floor(Math.random() * whispers.length)];
                const whisperEl = document.createElement('div');
                whisperEl.textContent = whisperText;
                whisperEl.style.position = 'fixed';
                whisperEl.style.bottom = `${Math.random() * 50 + 10}px`;
                whisperEl.style.right = `${Math.random() * 50 + 10}px`;
                whisperEl.style.color = 'var(--blood-red)';
                whisperEl.style.fontSize = `${Math.random() * 10 + 10}px`;
                whisperEl.style.opacity = '0';
                whisperEl.style.transition = 'opacity 2s';
                whisperEl.style.zIndex = '1000';
                whisperEl.style.pointerEvents = 'none';
                whisperEl.style.fontFamily = "'Eagle Lake', cursive";
                whisperEl.style.textShadow = '0 0 5px rgba(0,0,0,0.8)';
                
                document.body.appendChild(whisperEl);
                
                setTimeout(() => {
                    whisperEl.style.opacity = '0.7';
                    setTimeout(() => {
                        whisperEl.style.opacity = '0';
                        setTimeout(() => {
                            document.body.removeChild(whisperEl);
                        }, 2000);
                    }, 3000);
                }, 100);
                
                setTimeout(whisper, Math.random() * 15000 + 5000);
            }
            
            setTimeout(whisper, 5000);
        });
    </script>
</body>
</html>
